define("common:static/ui/ABTest/ABTest.js",function(t,i,n){function e(){var t,i=s.cookie.get("BAIDUID");return i&&(t=i.split(":")[0].match(/(\d)[^\d]*(\d)[^\d]*$/))?(r=Number(t[1]+t[2]),!0):!1}function o(){this.ranged=0,this.isHit=!1,r||(this.split=function(){})}var r,s=$;o.prototype={split:function(t,i){this.isHit||("object"==typeof t&&"object"==typeof i?this._splits(t,i):this._hitting(t,i))},_splits:function(t,i){for(var n=0,e=t.length;e>n&&!this._hitting(t[n],i[n]);n++);},_hitting:function(t,i){return"number"==typeof t&&"function"==typeof i&&(this.ranged+=t,r<this.ranged&&(this.isHit=!0,i())),this.isHit}};var f={};f.create=function(t,i){"object"==typeof t&&(i=t),"number"!=typeof r&&!e()&&i&&"function"==typeof i.onerror&&i.onerror();var n=new o;return"string"!=typeof t||f.hasOwnProperty(t)||(f[t]=n),n},n.exports=f});
;define("common:static/ui/bdvTrace/ugcRpTrack/ugcRpTrack.js",function(e,t){function s(e){var t=[];if(i.isPlainObject(e))for(var s in{id:1,type:1,last_view:1})t.push(e[s]);return t.join(",")}var r,i=$,o=(i.cookie,i.stringFormat),c=e("common:static/ui/bdvTrace/core/core.js"),a=e("common:static/ui/bdvTrace/config/config.js"),n=e("common:static/ui/ABTest/ABTest.js"),u=(Array.prototype.indexOf,c.delay,c.extend({__type:"BdvTraceUgcRpTrack",initialized:function(){this.records=null},onListSuccess:function(e){if(e&&e.query&&e.result){this.pageNo=e.query.pn;var t=e.result,s=t.data?t.data.length:0;if(s)this.records=t.data,s>this.pageSize&&(this.records=this.records.slice(0,this.pageSize)),this._followWorks();else{var r=[];this.cache[this.pageNo]=r,this._render(r)}}},onFollowWorksSuccess:function(e){var t=this._processResult(e.result);this._render(t)},_followWorks:function(e){this._request("followWorks",{},e)},update:function(e,t){e=e||{},e.type&&e.works_id&&e.last_view?this._request("update",e,t):t&&t(a.status.errParam)},getRequestUrl:function(e,t){var r="";switch(e){case"list":r="/ugc-rp/track-pc?";break;case"followWorks":var c=[];i.each(this.records,function(e,t){c.push("r[]="+s(t))}),r="/follow/works?"+c.join("&");break;case"del":r=o("/ugc-rp/remove-track?wid=#{works_id}&type=#{type}",t);break;case"update":r=o("/ugc-rp/add-track?wid=#{works_id}&type=#{type}&episode=#{last_view}",t)}return-1===r.indexOf("http")&&(r=a.remoteHost+r),r}}));t.Klass=u,t.isHit=function(e){return e=Math.min(parseInt(e)||10,100),r||(r=n.create()),r.split(e,function(){}),r.isHit}});
;define("common:static/ui/client/dimension.js",function(e,t){var n,i,c=null,o=!1,u=e("common:static/ui/eventcenter/eventcenter.js");t.detect=function(e){$.isFunction(e)&&u.attach("window.resize",e),o||($(window).resize(function(){clearTimeout(c),c=setTimeout(function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;(e!=n||t!=i)&&(n=e,i=t,u.trigger("window.resize",{height:i,width:n}))},100)}),o=!0)}});
;define("common:static/ui/core/core.js",function(e,t){var n=e("common:static/vendor/underscore/underscore.js")._;window.console=window.console||{log:function(){}};var r={baseUrl:"http://v.baidu.com/",captchaPrefix:"http://captcha.baidu.com/captcha/genimage?codestr=",getRemoteUrl:function(e){return this.baseUrl+e+"_intro/"},getJumpUrl:function(e){return this.baseUrl+e+"/"},PrefixMap:{movie:"kan/movie/?",tv:"kan/tvplay/?",show:"kan/tvshow/?",comic:"kan/comic/?"},getPlayUrlPrefix:function(e){return this.baseUrl+(this.PrefixMap[e]||"")},isPreview:function(){return location.href.match(/test=test/)},dataType:{periphery:{movie:"periphery",tv:"tvPeriphery",comic:"comicPeriphery",show:"showPeriphery"}},siteVipProxies:["wasu.cn","letv.com","m1905.com","baofeng.com","funshion.com","pptv.com"]},i=function(){},o=function(e,t,r){var o;return o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend(o,e),i.prototype=e.prototype,o.prototype=new i,t&&n.extend(o.prototype,t),r&&n.extend(o,r),o.prototype.constructor=o,o.__super__=e.prototype,o},a=function(e){this.initialize&&this.initialize.call(this,e)};a.extend=function(e,t){var n=o(this,e,t);return n.extend=this.extend,n};var c=a.extend({initialize:function(e){this.data=e.data,this.el=e.el,this.parent=e.parent},bindEl:function(){},bindEvents:function(){},template:n.template("<div><%=data.title%></div>"),insertHTML:function(){this.el.innerHTML=s.stripHTML(this.template({data:this.data}))},render:function(){this.insertHTML(),this.bindEl(),this.bindEvents()}}),s=window.vApp={};s.renderRating=function(e){return e+="",e?e.replace(/(\d+)(\.\d+)/,"$1<span>$2</span>"):""},s.toggleIntro=function(e){var t=T(e)[0],n=t.parentNode,r="",i=T(n).find("span.toggle")[0],o=T(n).find("a.js-toggle-holder")[0];t.innerHTML="",T(i).hasClass("toggle-open")?(o.innerHTML="鏀惰捣",i.className="toggle toggle-close",r=T(n).find("input[name=longIntro]")[0].value):(o.innerHTML="璇︽儏",i.className="toggle toggle-open",r=T(n).find("input[name=shortIntro]")[0].value),t.appendChild(document.createTextNode(r))},s.encodeHTML=function(e){var e=String(e).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return e.replace(/&#([\d]+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s.hEncode=function(e){return e.replace(/&#x26/g,"&").replace(/&#x22/g,"&#x22;").replace(/&#x27/g,"&#x27;")},s.getStringLen=function(e){for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)>128?t+=2:t++;return t},s.setString=function(e,t){for(var n=0,r="",i=0;i<e.length;i++)if(e.charCodeAt(i)>128?n+=2:n++,r+=e.charAt(i),n>=t)return r+(i==e.length-1?"":"...");return r},s.toRightPage=function(e,t,n,r,i,o,a,c,s,l){var u=1==e?t+n.replace("&","%26"):n;if(!this.getIsVideoBrowser()&&r){var p="bdvb://play/?url=",g="";if(i&&(g+="&id="+i),o&&(g+="&type="+o),a&&(g+="&title="+a),c&&(g+="&site="+c),s&&(g+="&episode="+s),l&&(g+="&year="+l),/(MSIE)/.test(navigator.userAgent))try{new ActiveXObject("ACTIVEXBDVB.ActiveXbdvbCtrl.1"),u=p+n+g}catch(d){}else navigator.plugins["WebKit Test PlugIn"]&&(u=p+n+g)}return u},s._stripPattern=new RegExp(">(([\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$))<","g"),s.stripHTML=function(e){return e.replace(/\t/g,"").replace(this._stripPattern,"><")},s.sitesClick=function(e){V.loadImg("http://nsclick.baidu.com/v.gif?"+e)},s.getIsVideoBrowser=function(){return void 0===this.isVideoBrowers?this.isVideoBrowers=navigator.userAgent.indexOf("Chrome/23.0.1263")>-1:this.isVideoBrowers},s.browersPromotion=!1,s.canPullBdvb=function(){var e=!1;if(/(MSIE)/.test(navigator.userAgent))try{{new ActiveXObject("ACTIVEXBDVB.ActiveXbdvbCtrl.1")}e=!0}catch(t){}else navigator.plugins["WebKit Test PlugIn"]&&(e=!0);return!1},s.pullDdvb=function(e,t,n,r,i){var o,a="bdvb://play/?url=";if(/(MSIE)/.test(navigator.userAgent))try{{new ActiveXObject("ACTIVEXBDVB.ActiveXbdvbCtrl.1")}o=t?a+t+"&id="+n+"&type="+r+"&title="+i:e}catch(c){o=e}else o=navigator.plugins["WebKit Test PlugIn"]&&t?a+t+"&id="+n+"&type="+r+"&title="+i:e;return o},s.isDebug=!0,s.debug=function(e){this.isDebug&&console&&console.log(e)},s.getPlayDuration=function(e){e=parseInt(e);var t=e%60,n=Math.floor(e/60),r=n>=60?Math.floor(n/60):0,i="";return r>0&&(n%=60,i=(r>10?r:"0"+r)+":"),i+(0===n?"00":n>9?n:"0"+n)+":"+(t>9?t:"0"+t)},s.browser=function(e){var e=e||navigator.userAgent;e=e.toLowerCase();var t=/(ipad).*os\s([\d_]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||!/compatible/.test(e)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},s.isFromYB=function(){var e=window.location.href,t=!1;return e&&-1!=e.indexOf("from=yb")&&(t=!0),t},s.getPlayUrl=function(e,t,n){var i=n.url||n.link||"",o=n.site||"";return i.match(/(youku\.com)|(tudou\.com)|(qq\.com)|(sohu\.com)/)?i:r.getPlayUrlPrefix(t)+"id="+e+"&site="+o+"&url="+i},t.BView=a,t.BaseView=c,t.vApp=s,t.tmpl=n.template,t.config=r});
;define("common:static/ui/localStorage/json.js",function(require,exports,module){"object"!=typeof JSON&&function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u,i=gap,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(f=a.length,n=0;f>n;n+=1)u[n]=str(n,a)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,a),o&&u.push(quote(r)+(gap?": ":":")+o));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o=str(r,a),o&&u.push(quote(r)+(gap?": ":":")+o));return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,o}}window.JSON={},"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()});
;define("common:static/ui/localStorage/localStorage.js",function(e){e("common:static/ui/localStorage/json.js"),"undefined"==typeof window.localStorage&&function(){function e(e){return e.replace(/^d/,"___$&").replace(l,"___")}var t,o=window.localStorage={hah:1},r=function(){},a="localStorage",n="script";if(o.getItem=o.setItem=o.removeItem=o.clear=r,document.documentElement.addBehavior){var c,i;try{i=new ActiveXObject("htmlfile"),i.open(),i.write("<"+n+">document.w=window</"+n+'><iframe src="/favicon.ico"></iframe>'),i.close(),c=i.w.frames[0].document,t=c.createElement("div")}catch(m){t=doc.createElement("div"),c=doc.body}var u=function(e){return function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(t),c.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var n=e.apply(o,r);return c.removeChild(t),n}},l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");o.setItem=u(function(t,r,n){return r=e(r),void 0===n?o.removeItem(r):(t.setAttribute(r,n),t.save(a),n)}),o.getItem=u(function(t,o,r){o=e(o);var a=t.getAttribute(o);return void 0===a?r:a}),o.removeItem=u(function(t,o){o=e(o),t.removeAttribute(o),t.save(a)}),o.clear=u(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var o,r=0;o=t[r];r++)e.removeAttribute(o.name);e.save(a)})}}()});
;define("common:static/ui/openoauth/openoauth.js",function(e,n,t){function i(e){o.ajax(r.BASE_URL+"video_topic/?type=access",{dataType:"jsonp",success:function(n){n&&n.access_token&&(s.trigger(g.Event.AccessToken,{once:!0,at:n.access_token}),e&&e(n.access_token))}})}var o=$,c=o.cookie,s=e("common:static/ui/eventcenter/eventcenter.js"),a=e("common:static/ui/loginCheck/loginCheck.js"),r={};r.BDUSS="BDUSS",r.ACCESS_TOKEN="BDV_ACC",r.BASE_URL="http://v.baidu.com/";var u,g=function(){return this.instance?this.instance:(this.user={},this.isLogin=!1,void this.initialize())};g.prototype={initialize:function(){var e=this;e.instance=this,a(function(n){if(e.isLogin="object"==typeof n&&n.value,e.isLogin){e.user=n,s.trigger(g.Event.Login,{once:!0});var t=c.getRaw(r.BDUSS);if(t){var o=c.getRaw(r.ACCESS_TOKEN);if(o=o?o.split(t):null,o&&o.length>1&&o[1])return u=o[1],void s.trigger(g.Event.AccessToken,{once:!0,at:u})}i()}})},getAccessToken:function(e){var n=this;u?(s.trigger(g.Event.AccessToken,{once:!0,at:u}),e&&e(u)):n.isLogin&&i(e)}},g.Event={Login:"OpenOauth.login",AccessToken:"OpenOauth.accessToken"},t.exports=g});
;define("common:static/ui/suggestion/sugConf.js",function(t,i){i.APIS={sug:"http://nssug.baidu.com/su",hotlist:"http://v.baidu.com/staticapi/api_hotlist.json",hotlistVip:"http://v.baidu.com/staticapi/api_hotlist_vip.json",videos:{movie:"http://v.baidu.com/movie_sug/",tv:"http://v.baidu.com/tv_sug/",show:"http://v.baidu.com/show_sug/",comic:"http://v.baidu.com/comic_sug/",person:"http://v.baidu.com/person_sug/"},ugc:"http://v.baidu.com/v?ct=905969664"},i.videoTypes={movie:"鐢靛奖",tv:"鐢佃鍓�",show:"缁艰壓",comic:"鍔ㄦ极",person:"浜虹墿"}});
;define("common:static/ui/suggestion/sugUtils.js",function(t,e,n){t("common:static/ui/localStorage/localStorage.js");var a=t("common:static/ui/oo/klass.js"),o=a.Klass.create({init:function(t){this.key=t.key},isIE67:/MSIE\s[67]/i.test(window.navigator.userAgent),assort:function(t,e,n){return t.sort(function(t,a){return"desc"===n?a[e]-t[e]:t[e]-a[e]})},set:function(t){for(var e=JSON.parse(localStorage.getItem(this.key)||"[]"),n=e.length,a=!1,o=0;n>o;o++)t.name===e[o].name&&(e[o].name=t.name,e[o].num=parseInt(e[o].num)+1,a=!0,e[o].data=t.data||{},e[o].timestamp=+new Date,e.unshift(e[o]),e.splice(o+1,1));a||e.unshift({name:t.name,num:"1",timestamp:+new Date,data:t.data||{}}),e.length=e.length>100?100:e.length,localStorage.setItem(this.key,JSON.stringify(e))},remove:function(t){for(var e=JSON.parse(localStorage.getItem(t)||"[]"),n=e.length,a=0;n>a;a++)e[a].name==t&&(e.splice(a,1),n=e.length);localStorage.setItem(this.key,JSON.stringify(e))},get:function(t,e){var n=JSON.parse(localStorage.getItem(this.key)||"[]"),a=n.length,o=[];if(e)for(var r=0;a>r;r++)0==n[r].name.indexOf(t)&&o.push(n[r]);else for(var r=0;a>r;r++)n[r].name==t&&o.push(n[r]);return o},getAll:function(){var t=JSON.parse(localStorage.getItem(this.key)||"[]");return t},log:function(t){var e=new Image,n="tangram_sio_log_"+Math.floor(2147483648*Math.random()).toString(36);window[n]=e,e.onload=e.onerror=e.onabort=function(){e.onload=e.onerror=e.onabort=null,window[n]=null,e=null},e.src=t}});n.exports=o});
;define("common:static/ui/suggestion/tangram.js",function(e,t,n){var r,i=r=i||function(e,t){return i.dom?i.dom(e,t):null};n.exports=r,i.version="2.0.2.5",i.guid="$BAIDU$",i.key="tangram_guid";var o=window[i.guid]=window[i.guid]||{};(o.versions||(o.versions=[])).push(i.version),i.check=i.check||function(){},"undefined"!=typeof jQuery&&(i.dom=jQuery),i.lang=i.lang||{},i.forEach=function(e,t,n){var r,i,o;if("function"==typeof t&&e)if(i="number"==typeof e.length?e.length:e.byteLength,"number"==typeof i){if("[object Function]"===Object.prototype.toString.call(e))return e;for(r=0;i>r;r++)o=e[r],void 0===o&&(o=e.charAt&&e.charAt(r)),t.call(n||null,o,r,e)}else if("number"==typeof e)for(r=0;e>r;r++)t.call(n||null,r,r,r);else if("object"==typeof e)for(r in e)e.hasOwnProperty(r)&&t.call(n||null,e[r],r,e);return e},i.type=function(){var e={},t=[,"HTMLElement","Attribute","Text",,,,,"Comment","Document",,"DocumentFragment"],n="Array Boolean Date Error Function Number RegExp String",r={object:1,"function":"1"},o=e.toString;return i.forEach(n.split(" "),function(t){e["[object "+t+"]"]=t.toLowerCase(),i["is"+t]=function(e){return i.type(e)==t.toLowerCase()}}),function(n){var i=typeof n;return r[i]?null==n?"null":n._type_||e[o.call(n)]||t[n.nodeType]||(n==n.window?"Window":"")||"object":i}}(),i.isDate=function(e){return"date"==i.type(e)&&"Invalid Date"!=e.toString()&&!isNaN(e)},i.isElement=function(e){return"HTMLElement"==i.type(e)},i.isEnumerable=function(e){return null!=e&&("object"==typeof e||~Object.prototype.toString.call(e).indexOf("NodeList"))&&("number"==typeof e.length||"number"==typeof e.byteLength||"undefined"!=typeof e[0])},i.isNumber=function(e){return"number"==i.type(e)&&isFinite(e)},i.isPlainObject=function(e){var t,n=Object.prototype.hasOwnProperty;if("object"!=i.type(e))return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(t in e);return void 0===t||n.call(e,t)},i.isObject=function(e){return"function"==typeof e||"object"==typeof e&&null!=e},i.global=i.global||function(){var e=i._global_=window[i.guid],t=e._=e._||{};return function(e,n,r){return"undefined"!=typeof n?(r||(n="undefined"==typeof t[e]?n:t[e]),t[e]=n):e&&"undefined"==typeof t[e]&&(t[e]={}),t[e]}}(),i.extend=function(e,t){var n,r,o,a,s,u,c=1,l=arguments.length,f=e||{};for(i.isBoolean(e)&&(c=2)&&(f=t||{}),!i.isObject(f)&&(f={});l>c;c++)if(n=arguments[c],i.isObject(n))for(r in n)o=f[r],a=n[r],o!==a&&(i.isBoolean(e)&&e&&a&&(i.isPlainObject(a)||(s=i.isArray(a)))?(s?(s=!1,u=o&&i.isArray(o)?o:[]):u=o&&i.isPlainObject(o)?o:{},f[r]=i.extend(e,u,a)):void 0!==a&&(f[r]=a));return f},i.browser=i.browser||function(){var e=navigator.userAgent,t={isStrict:"CSS1Compat"==document.compatMode,isGecko:/gecko/i.test(e)&&!/like gecko/i.test(e),isWebkit:/webkit/i.test(e)};try{/(\d+\.\d+)/.test(external.max_version)&&(t.maxthon=+RegExp.$1)}catch(n){}switch(!0){case/msie (\d+\.\d+)/i.test(e):t.ie=document.documentMode||+RegExp.$1;break;case/chrome\/(\d+\.\d+)/i.test(e):t.chrome=+RegExp.$1;break;case/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e):t.safari=+(RegExp.$1||RegExp.$2);break;case/firefox\/(\d+\.\d+)/i.test(e):t.firefox=+RegExp.$1;break;case/opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(e):t.opera=+(RegExp.$4||RegExp.$1)}return i.extend(i,t),t}(),i.id=function(){var e=i.global("_maps_id"),t=i.key;return window[i.guid]._counter=window[i.guid]._counter||1,function(n,r){var o,a=i.isString(n),s=i.isObject(n),u=s?n[t]:a?n:"";if(i.isString(r))switch(r){case"get":return s?u:e[u];case"remove":case"delete":return(o=e[u])&&(i.isElement(o)&&i.browser.ie<8?o.removeAttribute(t):delete o[t],delete e[u]),u;default:return a?((o=e[u])&&delete e[u],o&&(e[o[t]=r]=o)):s&&(u&&delete e[u],e[n[t]=r]=n),r}return s?(!u&&(e[n[t]=u=i.id()]=n),u):a?e[n]:"TANGRAM_"+i._global_._counter++}}(),i.base=i.base||{blank:function(){}},i.base.Class=function(){var e=(i._global_=window[i.guid])._instances;return e||(e=i._global_._instances={}),function(){this.guid=i.id(),this._decontrol_||(e[this.guid]=this)}}(),i.extend(i.base.Class.prototype,{toString:i.base.Class.prototype.toString=function(){return"[object "+(this._type_||"Object")+"]"},dispose:function(){if(delete i._global_._instances[this.guid],this._listeners_)for(var e in this._listeners_)this._listeners_[e].length=0,delete this._listeners_[e];for(var t in this)i.isFunction(this[t])?this[t]=i.base.blank:delete this[t];this.disposed=!0},fire:function(e,t){i.isString(e)&&(e=new i.base.Event(e));var n,r,o,a=this._listeners_,s=e.type,u=[e].concat(Array.prototype.slice.call(arguments,1));if(!a&&(a=this._listeners_={}),i.extend(e,t||{}),e.target=e.target||this,e.currentTarget=this,s.indexOf("on")&&(s="on"+s),i.isFunction(this[s])&&this[s].apply(this,u),(n=this._options)&&i.isFunction(n[s])&&n[s].apply(this,u),i.isArray(r=a[s]))for(n=r.length-1;n>-1;n--)o=r[n],o&&o.handler.apply(this,u),o&&o.once&&r.splice(n,1);return e.returnValue},on:function(e,t,n){if(!i.isFunction(t))return this;var r,o=this._listeners_;return!o&&(o=this._listeners_={}),e.indexOf("on")&&(e="on"+e),!i.isArray(r=o[e])&&(r=o[e]=[]),o[e].unshift({handler:t,once:!!n}),this},once:function(e,t){return this.on(e,t,!0)},one:function(e,t){return this.on(e,t,!0)},off:function(e,t){var n,r,i=this._listeners_;if(!i)return this;if("undefined"==typeof e){for(n in i)delete i[n];return this}if(e.indexOf("on")&&(e="on"+e),"undefined"==typeof t)delete i[e];else if(r=i[e])for(n=r.length-1;n>=0;n--)r[n].handler===t&&r.splice(n,1);return this}}),i.base.Class.prototype.addEventListener=i.base.Class.prototype.on,i.base.Class.prototype.removeEventListener=i.base.Class.prototype.un=i.base.Class.prototype.off,i.base.Class.prototype.dispatchEvent=i.base.Class.prototype.fire,window.baiduInstance=function(e){return window[i.guid]._instances[e]},i.base.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null,this.preventDefault=function(){this.returnValue=!1}},i.lang.Class=i.base.Class,i.createClass=function(e,t,n){e=i.isFunction(e)?e:function(){},n="object"==typeof t?t:n||{};var r=function(){var t=this;n.decontrolled&&(t._decontrol_=!0),r.superClass.apply(t,arguments);for(var i in r.options)t[i]=r.options[i];e.apply(t,arguments);for(var i=0,o=r._reg_;o&&i<o.length;i++)o[i].apply(t,arguments)};return i.extend(r,{superClass:n.superClass||i.base.Class,inherits:function(t){if("function"!=typeof t)return r;var n=function(){};n.prototype=(r.superClass=t).prototype;var o=r.prototype=new n;return i.extend(r.prototype,e.prototype),o.constructor=e,r},register:function(e,t){return(r._reg_||(r._reg_=[])).push(e),t&&i.extend(r.prototype,t),r},extend:function(e){return i.extend(r.prototype,e),r}}),t=i.isString(t)?t:n.className||n.type,i.isString(t)&&(e.prototype._type_=t),i.isFunction(r.superClass)&&r.inherits(r.superClass),r},i.lang.createClass=i.createClass,i.base.inherits=function(e,t,n){var r,i,o=e.prototype,a=new Function;a.prototype=t.prototype,i=e.prototype=new a;for(r in o)i[r]=o[r];return e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof n&&(i._type_=n),e.extend=function(t){for(var n in t)i[n]=t[n];return e},e},i.lang.inherits=i.base.inherits,i.base.register=function(e,t,n){(e._reg_||(e._reg_=[])).push(t);for(var r in n)e.prototype[r]=n[r]},i.lang.register=i.base.register,i.lang.isDate=i.isDate,i.lang.isString=i.isString,i.lang.guid=function(){return i.id()},i.object=i.object||{},i.object.extend=i.extend,i.lang.isObject=i.isObject,i.lang.isFunction=i.isFunction,i.object.merge=function(){function e(e){return i.lang.isObject(e)&&!i.lang.isFunction(e)}function t(t,n,r,o,a){n.hasOwnProperty(r)&&(a&&e(t[r])?i.object.merge(t[r],n[r],{overwrite:o,recursive:a}):!o&&r in t||(t[r]=n[r]))}return function(e,n,r){var i,o=0,a=r||{},s=a.overwrite,u=a.whiteList,c=a.recursive;if(u&&u.length)for(i=u.length;i>o;++o)t(e,n,u[o],s,c);else for(o in n)t(e,n,o,s,c);return e}}(),i.object.isPlain=i.isPlainObject,i.createChain=function(e,t,n){var r="dom"==e?"$DOM":"$"+e.charAt(0).toUpperCase()+e.substr(1),o=Array.prototype.slice,a=i[e];return a?a:(a=i[e]=t||function(t){return i.extend(t,i[e].fn)},a.extend=function(t){var n;for(n in t)!function(t){"splice"!=t&&(a[t]=function(){var n=arguments[0];"dom"==e&&"string"==i.type(n)&&(n="#"+n);var r=a(n),s=r[t].apply(r,o.call(arguments,1));return"$DOM"==i.type(s)?s.get(0):s})}(n);return i.extend(i[e].fn,t)},i[e][r]=i[e][r]||n||function(){},a.fn=i[e][r].prototype,a)},i.overwrite=function(e,t,n){for(var r=t.length-1;r>-1;r--)e.prototype[t[r]]=n(t[r]);return e},i.createChain("string",function(e){var t=i.type(e),n=new String(~"string|number".indexOf(t)?e:t),r=String.prototype;return i.forEach(i.string.$String.prototype,function(e,t){r[t]||(n[t]=e)}),n}),i.merge=function(e,t){var n=e.length,r=0;if("number"==typeof t.length)for(var i=t.length;i>r;r++)e[n++]=t[r];else for(;void 0!==t[r];)e[n++]=t[r++];return e.length=n,e},i.string.extend({format:function(e){var t=this.valueOf(),n=Array.prototype.slice.call(arguments,0),r=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(r.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(e,t){var i=n[t];return"[object Function]"==r.call(i)&&(i=i(t)),"undefined"==typeof i?"":i})):t}}),i.string.extend({encodeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}),i.global.set=function(e,t,n){return i.global(e,t,!n)},i.global.get=function(e){return i.global(e)},i.global.getZIndex=function(e,t){var n=i.global.get("zIndex");return e&&(n[e]=n[e]+(t||1)),n[e]},i.global.set("zIndex",{popup:5e4,dialog:1e3},!0),i.createChain("fn",function(e){return new i.fn.$Fn(~"function|string".indexOf(i.type(e))?e:function(){})},function(e){this.fn=e}),i.fn.extend({bind:function(e){var t=this.fn,n=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var r="string"===i.type(t)?e[t]:t,o=n?n.concat(Array.prototype.slice.call(arguments,0)):arguments;return r.apply(e||r,o)}}}),i.fn.bind=function(e){var t=i.fn(e);return t.bind.apply(t,Array.prototype.slice.call(arguments,1))},i.lang.isElement=i.isElement,i.makeArray=function(e,t){var n=t||[];return e?(null==e.length||~"string|function|regexp".indexOf(i.type(e))?[].push.call(n,e):i.merge(n,e),n):n},i.createChain("array",function(e){{var t,n=i.array.$Array.prototype;Array.prototype}"array"!=i.type(e)&&(e=[]);for(t in n)e[t]=n[t];return e}),i.overwrite(i.array.$Array,"concat slice".split(" "),function(e){return function(){return i.array(Array.prototype[e].apply(this,arguments))}}),i.array.extend({indexOf:function(e,t){i.check(".+(,number)?","baidu.array.indexOf");var n=this.length;for((t=0|t)<0&&(t=Math.max(0,n+t));n>t;t++)if(t in this&&this[t]===e)return t;return-1}}),i.array.extend({contains:function(e){return!!~this.indexOf(e)}}),i.array.extend({remove:function(e){for(var t=this.length;t--;)this[t]===e&&this.splice(t,1);return this}}),i.array.extend({filter:function(e,t){var n,r,o,a=i.array([]),s=0;if("function"===i.type(e))for(n=0,r=this.length;r>n;n++)o=this[n],e.call(t||this,o,n,this)===!0&&(a[s++]=o);return a}}),i.array.filter=function(e,t,n){return i.isArray(e)?i.array(e).filter(t,n):[]},i.createChain("event",function(){var e={};return function(t){switch(i.type(t)){case"object":return e.originalEvent===t?e:e=new i.event.$Event(t);case"$Event":return t}}}(),function(e){var t,n,r=this;if(this._type_="$Event","object"==typeof e&&e.type){r.originalEvent=t=e;for(var o in t)"function"!=typeof t[o]&&(r[o]=t[o]);t.extraData&&i.extend(r,t.extraData),r.target=r.srcElement=t.srcElement||(n=t.target)&&(3==n.nodeType?n.parentNode:n),r.relatedTarget=t.relatedTarget||(n=t.fromElement)&&(n===r.target?t.toElement:n),r.keyCode=r.which=t.keyCode||t.which,r.which||void 0===t.button||(r.which=1&t.button?1:2&t.button?3:4&t.button?2:0);var a=document.documentElement,s=document.body;r.pageX=t.pageX||t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),r.pageY=t.pageY||t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0),r.data}this.timeStamp=(new Date).getTime()}).extend({stopPropagation:function(){var e=this.originalEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},preventDefault:function(){var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}}),i.i18n=i.i18n||{},i.i18n.cultures=i.i18n.cultures||{},i.i18n.cultures["zh-CN"]=i.object.extend(i.i18n.cultures["zh-CN"]||{},function(){var e="%u4E00,%u4E8C,%u4E09,%u56DB,%u4E94,%u516D,%u4E03,%u516B,%u4E5D,%u5341".split(",");return{calendar:{dateFormat:"yyyy-MM-dd",titleNames:"#{yyyy}"+unescape("%u5E74")+"&nbsp;#{MM}"+unescape("%u6708"),monthNamesShort:[1,2,3,4,5,6,7,8,9,10,11,12],monthNames:function(){for(var t=e.length,n=[],r=0;12>r;r++)n.push(unescape(e[r]||e[t-1]+e[r-t]));return n}(),dayNames:function(){var t={mon:0,tue:1,wed:2,thu:3,fri:4,sat:5,sun:"%u65E5"};for(var n in t)t[n]=unescape(e[t[n]]||t[n]);return t}()},timeZone:8,whitespace:new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g"),number:{group:",",groupLength:3,decimal:".",positive:"",negative:"-",_format:function(e,t){return i.i18n.number._format(e,{group:this.group,groupLength:this.groupLength,decimal:this.decimal,symbol:t?this.negative:this.positive})}},currency:{symbol:unescape("%uFFE5")},language:function(){var e={ok:"%u786E%u5B9A",cancel:"%u53D6%u6D88",signin:"%u6CE8%u518C",signup:"%u767B%u5F55"};for(var t in e)e[t]=unescape(e[t]);return e}()}}()),i.i18n.currentLocale="zh-CN",i.date=i.date||{},i.createChain("number",function(e){var t=parseFloat(e),n=isNaN(t)?t:e,r="number"==typeof n?Number:String,o=r.prototype;return n=new r(n),i.forEach(i.number.$Number.prototype,function(e,t){o[t]||(n[t]=e)}),n}),i.number.extend({pad:function(e){var t=this,n="",r=0>t,i=String(Math.abs(t));return i.length<e&&(n=new Array(e-i.length+1).join("0")),(r?"-":"")+n+i}}),i.date.format=function(e,t){function n(e,n){t=t.replace(e,n)}if("string"!=typeof t)return e.toString();var r=i.number.pad,o=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),u=e.getHours(),c=e.getMinutes(),l=e.getSeconds();return n(/yyyy/g,r(o,4)),n(/yy/g,r(parseInt(o.toString().slice(2),10),2)),n(/MM/g,r(a,2)),n(/M/g,a),n(/dd/g,r(s,2)),n(/d/g,s),n(/HH/g,r(u,2)),n(/H/g,u),n(/hh/g,r(u%12,2)),n(/h/g,u%12),n(/mm/g,r(c,2)),n(/m/g,c),n(/ss/g,r(l,2)),n(/s/g,l),t},i.i18n.date=i.i18n.date||{getDaysInMonth:function(e,t){var n=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==t&&i.i18n.date.isLeapYear(e)?29:n[t]},isLeapYear:function(e){return!(e%400&&(e%4||!(e%100)))},toLocaleDate:function(e,t,n){return this._basicDate(e,t,n||i.i18n.currentLocale)},_basicDate:function(e,t,n){var r,o,a=i.i18n.cultures[n||i.i18n.currentLocale].timeZone,s=60*a,u=e.getTime();return t?(r=i.i18n.cultures[t].timeZone,o=60*r):(o=-1*e.getTimezoneOffset(),r=o/60),new Date(r!=a?u+6e4*(s-o):u)},format:function(e,t){var n=i.i18n.cultures[t||i.i18n.currentLocale];return i.date.format(i.i18n.date.toLocaleDate(e,"",t),n.calendar.dateFormat)}},i.each=function(e,t,n){var r,i,o,a;if("function"==typeof t&&e)if(i="number"==typeof e.length?e.length:e.byteLength,"number"==typeof i){if("[object Function]"===Object.prototype.toString.call(e))return e;for(r=0;i>r&&(o=e[r],void 0===o&&(o=e.charAt&&e.charAt(r)),a=t.call(n||o,r,o,e),a!==!1&&"break"!=a);r++);}else if("number"==typeof e)for(r=0;e>r&&(a=t.call(n||r,r,r,r),a!==!1&&"break"!=a);r++);else if("object"==typeof e)for(r in e)if(e.hasOwnProperty(r)&&(a=t.call(n||e[r],r,e[r],e),a===!1||"break"==a))break;return e},i.page=i.page||{},i.page.getWidth=function(){var e=document,t=e.body,n=e.documentElement,r="BackCompat"==e.compatMode?t:e.documentElement;return Math.max(n.scrollWidth,t.scrollWidth,r.clientWidth)},i.page.getHeight=function(){var e=document,t=e.body,n=e.documentElement,r="BackCompat"==e.compatMode?t:e.documentElement;return Math.max(n.scrollHeight,t.scrollHeight,r.clientHeight)},i.page.getScrollTop=function(){var e=document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},i.page.getScrollLeft=function(){var e=document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft},i.browser=i.browser||function(){var e=navigator.userAgent,t={isStrict:"CSS1Compat"==document.compatMode,isGecko:/gecko/i.test(e)&&!/like gecko/i.test(e),isWebkit:/webkit/i.test(e)};try{/(\d+\.\d+)/.test(external.max_version)&&(t.maxthon=+RegExp.$1)}catch(n){}switch(!0){case/msie (\d+\.\d+)/i.test(e):t.ie=document.documentMode||+RegExp.$1;break;case/chrome\/(\d+\.\d+)/i.test(e):t.chrome=+RegExp.$1;break;case/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e):t.safari=+(RegExp.$1||RegExp.$2);break;case/firefox\/(\d+\.\d+)/i.test(e):t.firefox=+RegExp.$1;break;case/opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(e):t.opera=+(RegExp.$4||RegExp.$1)}return i.extend(i,t),t}(),i.page.getViewHeight=function(){var e=document,t=i.browser.ie||1,n="BackCompat"===e.compatMode&&9>t?e.body:e.documentElement;return n.clientHeight},i.page.getViewWidth=function(){var e=document,t="BackCompat"==e.compatMode?e.body:e.documentElement;return t.clientWidth},function(){i.page.getMousePosition=function(){return{x:i.page.getScrollLeft()+e.x,y:i.page.getScrollTop()+e.y}};var e={x:0,y:0};i.dom(document).mousemove(function(t){t=window.event||t,e.x=t.clientX,e.y=t.clientY})}(),i.extend({contains:function(e){return jQuery.contains(this,e)}}),i.fx=i.fx||{},i.fx.current=function(e){if(!(e=$(e).get(0)))return null;var t,n,r=/\|([^\|]+)\|/g;do if(n=e.getAttribute("baidu_current_effect"))break;while((e=e.parentNode)&&1==e.nodeType);if(!n)return null;if(t=n.match(r)){r=/\|([^\|]+)\|/;for(var o=0;o<t.length;o++)r.test(t[o]),t[o]=i._global_._instances[RegExp.$1]}return t},i.fx.Timeline=function(e){i.lang.Class.call(this),this.interval=16,this.duration=500,this.dynamic=!0,i.object.extend(this,e)},i.lang.inherits(i.fx.Timeline,i.lang.Class,"baidu.fx.Timeline").extend({launch:function(){var e=this;return e.dispatchEvent("onbeforestart"),"function"==typeof e.initialize&&e.initialize(),e["btime"]=(new Date).getTime(),e["etime"]=e["btime"]+(e.dynamic?e.duration:0),e["pulsed"](),e},"pulsed":function(){var e=this,t=(new Date).getTime();return e.percent=(t-e["btime"])/e.duration,e.dispatchEvent("onbeforeupdate"),t>=e["etime"]?("function"==typeof e.render&&e.render(e.transition(e.percent=1)),"function"==typeof e.finish&&e.finish(),e.dispatchEvent("onafterfinish"),void e.dispose()):("function"==typeof e.render&&e.render(e.transition(e.percent)),e.dispatchEvent("onafterupdate"),void(e["timer"]=setTimeout(function(){e["pulsed"]()},e.interval)))},transition:function(e){return e},cancel:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],"function"==typeof this.restore&&this.restore(),this.dispatchEvent("oncancel"),this.dispose()},end:function(){this["timer"]&&clearTimeout(this["timer"]),this["etime"]=this["btime"],this["pulsed"]()}}),i.fx.create=function(e,t,n){var r=new i.fx.Timeline(t);r.element=e,r.__type=n||r.__type,r["original"]={};var o="baidu_current_effect";return r.addEventListener("onbeforestart",function(){var e,t=this;t.attribName="att_"+t.__type.replace(/\W/g,"_"),e=$(t.element).attr(o),$(t.element).attr(o,(e||"")+"|"+t.guid+"|",0),t.overlapping||((e=$(t.element).attr(t.attribName))&&baiduInstance(e).cancel(),$(t.element).attr(t.attribName,t.guid,0))}),r["clean"]=function(e){var t,n=this;(e=n.element)&&(e.removeAttribute(n.attribName),t=e.getAttribute(o),t=t.replace("|"+n.guid+"|",""),t?e.setAttribute(o,t,0):e.removeAttribute(o))},r.addEventListener("oncancel",function(){this["clean"](),this["restore"]()}),r.addEventListener("onafterfinish",function(){this["clean"](),this.restoreAfterFinish&&this["restore"]()}),r.protect=function(e){this["original"][e]=this.element.style[e]},r["restore"]=function(){var e,t=this["original"],n=this.element.style;for(var r in t)e=t[r],"undefined"!=typeof e&&(n[r]=e,!e&&n.removeAttribute?n.removeAttribute(r):!e&&n.removeProperty&&n.removeProperty(r))},r},i.fx.scrollBy=function(e,t,n){if(!(e=$(e).get(0))||"object"!=typeof t)return null;var r={},o={};r.x=t[0]||t.x||0,r.y=t[1]||t.y||0;var a=i.fx.create(e,i.object.extend({initialize:function(){var t=o.sTop=e.scrollTop,n=o.sLeft=e.scrollLeft;o.sx=Math.min(e.scrollWidth-e.clientWidth-n,r.x),o.sy=Math.min(e.scrollHeight-e.clientHeight-t,r.y)},transition:function(e){return 1-Math.pow(1-e,2)},render:function(t){e.scrollTop=o.sy*t+o.sTop,e.scrollLeft=o.sx*t+o.sLeft},restore:function(){e.scrollTop=o.sTop,e.scrollLeft=o.sLeft}},n),"baidu.fx.scroll");return a.launch()},i.fx.scrollTo=function(e,t,n){if(!(e=$(e).get(0))||"object"!=typeof t)return null;var r={};return r.x=(t[0]||t.x||0)-e.scrollLeft,r.y=(t[1]||t.y||0)-e.scrollTop,i.fx.scrollBy(e,r,n)},function(){function e(){g=!1,clearInterval(u),o.capture&&r.releaseCapture?r.releaseCapture():o.capture&&window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP),document.body.style.MozUserSelect=d;var t=i.dom(document);t.off("selectstart",n),o.autoStop&&t.off("mouseup",e),i.isFunction(o.ondragend)&&o.ondragend(r,o,{left:f,top:p})}function t(){if(!g)return void clearInterval(u);var e=o.range||[],t=i.page.getMousePosition(),n=c+t.x-a,d=l+t.y-s;i.isObject(e)&&4==e.length&&(n=Math.max(e[3],n),n=Math.min(e[1]-r.outerWidth(),n),d=Math.max(e[0],d),d=Math.min(e[2]-r.outerHeight(),d)),r.css("left",n+"px"),r.css("top",d+"px"),f=n,p=d,i.isFunction(o.ondrag)&&o.ondrag(r,o,{left:f,top:p})}function n(e){return i.event.preventDefault(e,!1)}var r,o,a,s,u,c,l,f,p,d,g=!1;i.dom.drag=function(h,m){if(!(r=i.dom(h)))return!1;o=i.object.extend({autoStop:!0,capture:!0,interval:16},m),f=c=r.css("left").replace("px","")-0||0,p=l=r.css("top").replace("px","")-0||0,g=!0,setTimeout(function(){var e=i.page.getMousePosition();a=o.mouseEvent?i.page.getScrollLeft()+o.mouseEvent.clientX:e.x,s=o.mouseEvent?i.page.getScrollTop()+o.mouseEvent.clientY:e.y,clearInterval(u),u=setInterval(t,o.interval)},1);var y=i(document);return o.autoStop&&y.on("mouseup",e),y.on("selectstart",n),o.capture&&r.setCapture?r.setCapture():o.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),d=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",i.isFunction(o.ondragstart)&&o.ondragstart(r,o),{stop:e,dispose:e,update:function(e){i.object.extend(o,e)}}}}(),i.fx.move=function(e,t){if(!(e=$(e).get(0))||"static"==$(e).css("position"))return null;if(t=i.object.extend({x:0,y:0},t||{}),0==t.x&&0==t.y)return null;var n=i.fx.create(e,i.object.extend({initialize:function(){this.protect("top"),this.protect("left"),this.originX=parseInt($(e).css("left"))||0,this.originY=parseInt($(e).css("top"))||0},transition:function(e){return 1-Math.pow(1-e,2)},render:function(t){e.style.top=this.y*t+this.originY+"px",e.style.left=this.x*t+this.originX+"px"}},t),"baidu.fx.move");return n.launch()},i.fx.moveTo=function(e,t,n){if(!(e=$(e))||"static"==e.css("position")||"object"!=typeof t)return null;var r=[t[0]||t.x||0,t[1]||t.y||0],o=parseInt($(e).css("left"))||0,a=parseInt($(e).css("top"))||0,s=i.fx.move(e,i.object.extend({x:r[0]-o,y:r[1]-a},n||{}));return s},i.string.extend({trim:function(){return jQuery.trim(this)}})});
;define("common:static/vendor/bootstrap/js/tab.js",function(){+function(t){"use strict";function a(a){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new e(this)),"string"==typeof a&&s[a]()})}var e=function(a){this.element=t(a)};e.VERSION="3.2.0",e.prototype.show=function(){var a=this.element,e=a.closest("ul:not(.dropdown-menu)"),n=a.data("target");if(n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var s=e.find(".active:last a")[0],i=t.Event("show.bs.tab",{relatedTarget:s});if(a.trigger(i),!i.isDefaultPrevented()){var o=t(n);this.activate(a.closest("li"),e),this.activate(o,o.parent(),function(){a.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},e.prototype.activate=function(a,e,n){function s(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),a.addClass("active"),o?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active"),n&&n()}var i=e.find("> .active"),o=n&&t.support.transition&&i.hasClass("fade");o?i.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),i.removeClass("in")};var n=t.fn.tab;t.fn.tab=a,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),a.call(t(this),"show")})}(jQuery)});
;define("common:static/ui/client/responsive_2.0.js",function(e,t){function n(){var e,t="";o.detect(function(n){var o=n.width,c=(n.height,1245),s=1345;e=c>o?"w1024":s>o?"w1280":"w1235",t=e;var r=document.body.className;-1===r.indexOf(t)&&(document.documentElement.style.overflowX="w1024"===e?"auto":"",document.body.className=r?/(w\d+)/g.test(r)?r.replace(/(w\d+)/g,t):r+" "+t:t,i.trigger("dimension.change",{size:e}))}),$(window).trigger("resize")}e("common:static/ui/core/core.js"),e("common:static/vendor/bootstrap/js/transition.js");var o=e("common:static/ui/client/dimension.js"),i=e("common:static/ui/eventcenter/eventcenter.js");t.start=n});
;define("common:static/ui/suggestion/magic.js",function(t,e,i){var o=t("common:static/ui/suggestion/tangram.js");if("function"!=typeof s)var s=function(){};s.resourcePath="",s.skinName="default",s.version="1.1.0.4",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),s.Base=function(){o.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},o.lang.inherits(s.Base,o.lang.Class,"magic.Base").extend({getElement:function(t){return document.getElementById(this.$getId(t))},getElements:function(){var t={},e=this._ids;for(var i in e)t[i]=this.getElement(i);return t},$getId:function(t){return t=o.lang.isString(t)?t:"",this._ids[t]||(this._ids[t]=this._eid+t)},$mappingDom:function(t,e){return o.lang.isString(e)?this._ids[t]=e:e&&e.nodeType&&(e.id?this._ids[t]=e.id:e.id=this.$getId(t)),this},$dispose:function(){this.fire("ondispose")&&o.lang.Class.prototype.dispose.call(this)}}),s.control=s.control||{},s.control.Layer=o.lang.createClass(function(t){this.width="auto",this.height="auto",o.object.extend(this,t||{})},{type:"magic.control.Layer",superClass:s.Base}).extend({show:function(){this.fire("onbeforeshow")&&(this.getElement().style.display="",this.fire("onshow"))},hide:function(){this.fire("onbeforehide")&&(this.getElement().style.display="none",this.fire("onhide"))},setWidth:function(t){this.width=t,o(this.getElement()).width(t)},setHeight:function(t){this.height=t,o.dom(this.getElement()).height(t)},setSize:function(t){this.setWidth(t.width||t[0]),this.setHeight(t.height||t[1])}}),s.control.Popup=o.lang.createClass(function(t){var e=this;e.visible=!1,e.autoHide=!0,e.hideOnEscape=!0,e.disposeOnHide=!1,e.smartPosition=!1,e.offsetX=0,e.offsetY=0,o.object.extend(this,t||{}),e._parent=null,e._host=null,e._init_control_popup()},{superClass:s.control.Layer,type:"magic.control.Popup"}).extend({setContent:function(t){this.getElement("content").innerHTML=t},attach:function(t,e){o.dom(t).size()&&(o.object.extend(this,e||{}),this._host=o(t)[0],this.show())},reposition:function(t){var e=this;if(!t&&e._host&&(t=o.dom(e._host).offset()),t&&(e.top=t.top+e.offsetY+e._host.offsetHeight,e.left=t.left+e.offsetX,e._resupinate=!1,e.smartPosition)){var i=e.getElement().offsetHeight,s=o.page.getViewHeight(),n=o.page.getScrollTop(),r=t.top-e.offsetY-i;e.top+i>n+s&&r>n&&n+s>r&&(e.top=t.top-e.offsetY-i,e._resupinate=!0)}e.fire("reposition"),e.setPosition([e.left,e.top])},setPosition:function(t){this.setTop(t.top||t[1]),this.setLeft(t.left||t[0])},setTop:function(t){o.dom(this.getElement()).css("top",(this.top=t)+"px")},setLeft:function(t){o.dom(this.getElement()).css("left",(this.left=t)+"px")},_init_control_popup:function(){function t(){n.reposition()}function e(t){27==t.keyCode&&n.hideOnEscape&&n.autoHide&&n.hide()}function i(){var t=n;do a[t.guid]=!0;while(t=t._parent)}function s(s){n.visible=!1,delete r[n.guid],n._host&&o.dom(n._host).off("click",i),o.dom(n.getElement()).off("click",i),o.dom(window).off("resize",t),o.dom(document).off("keyup",e),s&&n.$dispose()}var n=this,r=o.global.get("popupList"),a=o.global.get("popupProtect");n.on("show",function(){n.reposition(),setTimeout(function(){n.guid&&(r[n.guid]=!0)},1),n._host&&o.dom(n._host).on("click",i),o.dom(n.getElement()).on("click",i),o.dom(window).on("resize",t),o.dom(document).on("keyup",e),"auto"!=n.width&&n.setWidth(n.width),"auto"!=n.height&&n.setHeight(n.height),n.visible=!0}),n.on("hide",function(){s(n.disposeOnHide)}),n.on("dispose",function(){s(!1)})}}),function(){function t(){for(var t in e){var o=baiduInstance(t);!i[t]&&o.autoHide&&o.hide()}for(var t in i)delete i[t]}var e=o.global.set("popupList",{},!0),i=o.global.set("popupProtect",{},!0);o.dom(window).on("resize",t),o.dom(window).on("scroll",t),o.dom(document).on("click",t)}(),s.Background=o.lang.createClass(function(t){var e=t||{},i=this;i.coverable=e.coverable||!1,i.styleBox=e.styleBox,i.tagName="div";var s="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;";i._coverDom="<div style='"+s+"opacity:0;background-color:#FFFFFF'></div>";var n=o.browser;n.ie<7&&(i._coverDom="<iframe frameborder='0' style='"+s+"' src='about:blank'></iframe>"),n.ie&&(!n.isStrict||n.ie<8)&&(i.size=[0,0],i.timer=setInterval(function(){i._forIE()},80)),this._innerHTML="<div class='tang-background-inner' style='width:100%;height:100%;' id='"+this.$getId("inner")+"'></div>"},{type:"magic.Background",superClass:s.Base}).extend({render:function(t){var e=o.dom(t).get(0);e!=document.body&&"static"==o.dom(e).css("position")&&(e.style.position="relative"),o.dom(e).prepend(this.toHTMLString())},$dispose:function(){var t=this.getElement();t.parentNode.removeChild(t),clearInterval(this.timer)},toHTMLString:function(t){return["<",t||this.tagName," class='tang-background",o.browser.ie<7?" ie6__":"","' id='",this.$getId(),"' style='position:absolute; top:0px; left:0px;",this.timer?"width:10px;height:10px;":"width:100%;height:100%;","z-index:-9; -webkit-user-select:none; -moz-user-select:none;' ","onselectstart='return false'>",this._innerHTML,this.coverable?this._coverDom||"":"","</",t||this.tagName,">"].join("")},setContent:function(t){this.getElement("inner").innerHTML=t},_forIE:function(){if(this.guid&&this.layer||(this.layer=this.getElement())&&this.layer.offsetHeight){var t=this.layer,e=this.container||t.parentNode;if(e&&e.style){var i=e.style,s=parseInt(i.borderTopWidth)||0,n=parseInt(i.borderRightWidth)||0,r=parseInt(i.borderBottomWidth)||0,a=parseInt(i.borderLeftWidth)||0,h=e.offsetWidth-n-a,l=e.offsetHeight-s-r;if((this.size[0]!=h||this.size[1]!=l)&&(t.style.width=(this.size[0]=h)+"px",t.style.height=(this.size[1]=l)+"px"),this.styleBox&&this.table||(this.table=this.getElement("table"))){var d,c;d=d||parseInt(o.dom(this.table.rows[0]).getCurrentStyle("height")),c=c||parseInt(o.dom(this.table.rows[2]).getCurrentStyle("height")),this.table.rows[0].style.height=d+"px",this.table.rows[2].style.height=c+"px",this.table.rows[1].style.height=this.layer.offsetHeight-d-c+"px"}}}}}),function(){s.Popup=function(e){var i=this;s.control.Popup.call(i,e),i.content="",i.className="",i.styleBox=!1,o.object.extend(this,e||{});var n=t.produce();i.$mappingDom("",n.getElement()),i.$mappingDom("content",n.getElement("content")),n.getElement().style.zIndex=o.global.getZIndex("popup"),i.setContent(i.content),i.className&&o.dom(n.getElement()).addClass(i.className),i.on("dispose",function(){i.className&&o.dom(n.getElement()).removeClass(i.className),i.setContent(""),n.busy=!1})},o.lang.inherits(s.Popup,s.control.Popup,"magic.Popup");var t={list:[],produce:function(){for(var t=0,e=this.list.length;e>t;t++)if(!this.list[t].busy)return this.list[t].busy=!0,this.list[t];var i=new s.Base;return o.dom(document.body).prepend(["<div class='tang-popup' id='",i.$getId(),"' ","style='position:absolute; display:none;'>",(i.background=new s.Background({coverable:!0})).toHTMLString(),"<div class='tang-foreground' id='",i.$getId("content"),"'></div>","</div>"].join("")),i.busy=!0,this.list.push(i),i}}}(),i.exports=s});
;define("common:static/ui/suggestion/suggestion.js",function(require,exports,module){function createSuggestion(){var e=new magic.control.Suggestion(sugOptions.input,{holdHighLight:!0,openQuickSearch:sugOptions.openQuickSearch,form:sugOptions.form});sugSetting(e)}function sugSetting(e){e.on("onpick",function(t){if(t.index>-1){var n=baidu("#"+sugOptions.form).find("input[name=oq], input[name=f], input[name=rsp]");3===n.length&&(n.attr("disabled",!1),n[0].value=e.currentQuery,n[2].value=t.index)}});var t=baidu.dom("#"+sugOptions.form);e.on("onconfirm",function(n){var i={};if(i=this.selectedIndex>-1?this.currentData[this.selectedIndex]:{content:this.currentQuery,meta:null,value:this.currentQuery},this.currentQuery&&myNewSug.set({name:this.oldInputValue,data:i}),e.openQuickSearch){e._objAjax&&e._objAjax.abort(),clearTimeout(e._preTimer),i.newClass&&myNewSug.log("http://nsclick.baidu.com/v.gif?pid=104&tpl=history_sug&searchpage=&wd="+this.currentQuery+"&sug="+this.oldInputValue+"&li="+this.selectedIndex);var a=t.serialize();"keydown"==n.eventType&&(window._bdvSearchLogType="enter"),e.getElement("input").blur(),bdvQuickSearch.trigger("search",n.value,a)}else i.newClass&&myNewSug.log("http://nsclick.baidu.com/v.gif?pid=104&tpl=history_sug&searchpage=&wd="+this.currentQuery+"&sug="+this.oldInputValue+"&li="+this.selectedIndex),sugOptions.delay?setTimeout(function(){t.prop("target","_self"),t.submit()},sugOptions.delay):t.submit()}),e.on("onconfirmopen",function(e){window.open(e.url)}),"function"===baidu.type(sugOptions.onsubmit)&&(e.on("onconfirm",function(t){sugOptions.onsubmit({query:e.currentQuery,title:t.value,index:t.index,eventType:t.eventType})}),e.on("onconfirmopen",function(e){sugOptions.onsubmit({url:e.url,title:e.value,index:e.index})})),"function"===baidu.type(sugOptions.onclicklink)&&e.on("onclickvideo",function(e){sugOptions.onclicklink(e)}),"string"===baidu.type(sugOptions.classname)&&e.on("onrender",function(){baidu(e.getElement("suggestion")).addClass(sugOptions.classname)})}function init(e){"object"==typeof e&&baidu.object.extend(sugOptions,e),2===baidu("#"+sugOptions.form+", #"+sugOptions.input).length&&createSuggestion()}var sugUtils=require("common:static/ui/suggestion/sugUtils.js"),myNewSug=new sugUtils({key:"newsug"}),sugConf=require("common:static/ui/suggestion/sugConf.js"),baidu=require("common:static/ui/suggestion/tangram.js"),magic=require("common:static/ui/suggestion/magic.js"),T=$,APIS=sugConf.APIS,tpls=(require("common:static/ui/vipInfo/vipInfo.js"),{sug:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div id="'+(null==(__t=me.$getId("wrap-"+data.length))?"":__t)+'" class="'+(null==(__t=me._getClass("wrap"+data.length))?"":__t)+'">\r\n    <div id="'+(null==(__t=me.$getId("inner"))?"":__t)+'" class="'+(null==(__t=me._getClass("inner"))?"":__t)+'">\r\n        <ul class="bdv-suggestion-list">\r\n            ';for(var ins="baiduInstance('"+me.guid+"')",i=0,len=data.length;len>i;i++){var item=data[i],meta=item.meta,typecn=meta&&meta.type&&videoTypes[meta.type];__p+='\r\n                <li id="'+(null==(__t=me.$getId("item"+i))?"":__t)+'" onmouseover="'+(null==(__t=ins+"._mouseOver(event, "+i+")")?"":__t)+'" onmouseout="'+(null==(__t=ins+"._mouseOut(event, "+i+")")?"":__t)+'" onmousedown="'+(null==(__t=ins+"._mouseDown(event, "+i+")")?"":__t)+'" onclick="'+(null==(__t=ins+"._mouseClick(event, "+i+")")?"":__t)+'"',typecn&&(__p+='class="bdv-suggestion-'+(null==(__t=meta.type)?"":__t)+'"'),__p+='>\r\n                    <span style="color: '+(null==(__t=item.color)?"":__t)+'" class="bdv-suggestion-item '+(null==(__t=item.newClass)?"":__t)+'">'+(null==(__t=item.content.replace(query,'<span class="bdv-suggestion-query">'+query+"</span>"))?"":__t),meta&&"v.hao123.com"!=domain&&"1"==meta.latest?__p+='<span class="bdv-suggestion-type"><em class="latest">鏂�</em></span>':typecn&&(__p+='<span class="bdv-suggestion-type">'+(null==(__t=typecn)?"":__t)+"<i>></i></span>"),__p+="</span>\r\n                </li>\r\n            "}__p+='\r\n        </ul>\r\n        <div id="'+(null==(__t=me.$getId("videoitem"))?"":__t)+'" class="'+(null==(__t=me._getClass("videoitem"))?"":__t)+'"></div>\r\n        <div id="'+(null==(__t=me.$getId("close"))?"":__t)+'" class="'+(null==(__t=me._getClass("close"))?"":__t)+'">\r\n            <a href="javascript:void(0);" onclick="'+(null==(__t=ins+"._mouseClickClose(event)")?"":__t)+'">\\u5173\\u95ed</a>\r\n        </div>\r\n    </div>\r\n</div>'}return __p},sugHot:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div id="'+(null==(__t=me.$getId("wrap-"+data.length))?"":__t)+'" class="'+(null==(__t=me._getClass("wrap"+data.length))?"":__t)+'">\r\n    <div id="'+(null==(__t=me.$getId("inner"))?"":__t)+'" class="'+(null==(__t=me._getClass("inner"))?"":__t)+'">\r\n        <ul class="bdv-suggestion-hot-list">\r\n            ';for(var ins="baiduInstance('"+me.guid+"')",i=0,len=data.length;len>i&&10>i;i++){var item=data[i];__p+='\r\n                <li id="'+(null==(__t=me.$getId("item"+i))?"":__t)+'" onmouseover="'+(null==(__t=ins+"._mouseOver(event, "+i+")")?"":__t)+'" onmouseout="'+(null==(__t=ins+"._mouseOut(event, "+i+")")?"":__t)+'" onmousedown="'+(null==(__t=ins+"._mouseDown(event, "+i+")")?"":__t)+'" onclick="'+(null==(__t=ins+"._mouseClick(event, "+i+")")?"":__t)+'" class="bdv-suggestion-li-'+(null==(__t=i)?"":__t),1==item.hot_day?__p+=" bdv-suggestion-li-new":2==item.hot_day&&(__p+=" bdv-sggestion-li-hot"),__p+='">\r\n                    <span class="bdv-suggestion-no">'+(null==(__t=i+1)?"":__t)+'</span>\r\n                    <span class="bdv-suggestion-item">'+(null==(__t=item.title)?"":__t)+"</span>\r\n                </li>\r\n            "}__p+='\r\n        </ul>\r\n        <div class="bdv-suggestion-hot-title"></div>\r\n    </div>\r\n</div>'}return __p}}),sugOptions={},dataVideoCache={movie:{},tv:{},show:{},comic:{},person:{}},dataHotCache=null,dataPreloaded={inputs:{},words:{}};magic.control.Suggestion=baidu.lang.createClass(function(e,t){var n=this;baidu.object.extend(this,t||{}),n.dataCache={},n.enableIndexs=[],n.selectedIndex=-1,n.currentQuery="",n.currentVideoMeta=null,n.currentVideoData=null,n.oldInputValue="",n.upDownArrowTimer=null,n._preTimer=0,n._objAjax=null,n.$mappingDom("input",baidu.dom("#"+e).get(0)),n.on("onload",function(){function e(){i=setInterval(function(){var e=t.value;$(t).hasClass("place-holder")||(e||n.isShowHot||!n.isShowing()?e!=n.oldInputValue&&(e&&n.fire("onneeddata",e),n.oldInputValue=e):n._hide())},100)}var t=n.getElement("input"),i=null;baidu.dom(n.getElement("input")).attr("autocomplete","off"),n.oldInputValue=n.getElement("input").value,e();var a=function(){return n._keydownHandler()}(),o=function(){i&&(clearInterval(i),e()),n.upDownArrowTimer&&(clearTimeout(n.upDownArrowTimer),n.upDownArrowTimer=null)},u=function(){t.value||(n.currentQuery="",n.fire("onneedhotdata"))};baidu.dom(t).on("click",u),baidu.dom(t).on("keydown",a),baidu.dom(t).on("keyup",o),n.on("onmousedownitem",function(){clearInterval(i),setTimeout(function(){e()},500)}),n.on("ondispose",function(){baidu.dom(t).off("keydown",a),baidu.dom(t).off("keyup",o),clearInterval(i)})}),n.on("onrender",function(){var e=(n.getElement("input"),n.getElement("suggestion")),t=function(){n.hide()},i=function(t){var t=t||window.event,i=t.target||t.srcElement;n.suggestion&&(i==e||baidu.dom.contains(e,i)||i==n.getElement("input")||n.hide())};baidu.dom(window).on("blur",t),baidu.dom(document).on("click",i),n.on("ondispose",function(){baidu.dom(window).off("blur",t),baidu.dom(document).off("click",i)}),baidu.dom(n.getElement("suggestion")).delegate("a[data-type]","click",function(){var e=n.selectedIndex<0?0:n.selectedIndex,t=n.currentVideoMeta;n.fire("onclickvideo",{query:n.currentQuery,title:n.getDataByIndex(e).value,id:t.id,type:t.type,index:e,target:this.getAttribute("data-type"),url:this.href})})}),n.on("onneeddata",function(e,t){var i=n.dataCache;n.currentQuery=t,"undefined"==typeof i[t]?n.getData(t):(n.currentData=i[t],n.currentData.length>0?n.show():n.hide())}),n.on("onneedhotdata",function(){dataHotCache?(n.currentData=dataHotCache,dataHotCache.length>0?n.show():n.hide()):n.getHotData()}),n.on("beforeshow",function(){var e=n.currentData,t=0,i=e.length;for(n.enableIndexs=[];i>t;t++)("undefined"==typeof e[t].disable||0==e[t].disable)&&n.enableIndexs.push(t)}),n.on("onneedvideo",function(e){var t=e.meta,i=dataVideoCache[t.type];"undefined"==typeof i[t.id]||(n.currentVideoMeta=t,n.currentVideoData=i[t.id],n.currentVideoData&&n.currentVideoData.video?n.showVideoItem():n.hideVideoItem())}),baidu(function(){function e(e){input_el.blur(),e!==t&&(n.oldInputValue=input_el.value=t=e,n.hide())}if(n.openQuickSearch=n.openQuickSearch&&"object"==typeof bdvQuickSearch,n.openQuickSearch){sugOptions.num=4;var t="",i=n._predictCache={};$form=baidu.dom("#"+sugOptions.form),input_el=n.getElement("input"),moveEvt=null,function(){function e(){var e=input_el.value,n=i[e];(d!==e||c!==n)&&(n?(c!==n&&(r.html("鈫�"+n),c=n),r.css("visibility","visible")):t(),c&&r.css("left",l.html(e).width()),d=e)}function t(){r.html(""),c=""}function a(e){if(39==e.keyCode){var t,n=input_el.value;n&&n.length===input_el.selectionStart&&(t=i[n])&&(input_el.value=t,localStorage&&localStorage.qsKeyTip<3&&(localStorage.qsKeyTip=3))}}function o(){g=setInterval(function(){e()},100)}function u(){var e=baidu('<span class="tips">鎸夐敭鐩樺彸閿揩閫熼€夋嫨<b></b></span>');r.css("z-index",1).append(e),localStorage.qsKeyTip=Number(localStorage.qsKeyTip)+1||1,setTimeout(function(){e.hide()},3e3)}var s=baidu(input_el),r=baidu($form).find(".predict-query"),l=baidu($form).find(".predict-input"),d="",c="",g=null;s.focus(function(){clearInterval(g),o()}).blur(function(){clearInterval(g),t()}).keydown(a),n.on("onconfirm",function(){c&&t()}),localStorage&&(!localStorage.qsKeyTip||localStorage.qsKeyTip<3)&&r.css("z-index",11).mousemove(u)}();var a=function(e,t){var a=i[t];return a?bdvQuickSearch.trigger("search",a):(n._objAjax&&n._objAjax.abort(),void(n._objAjax=$.ajax({url:APIS.sug+"?wd="+encodeURIComponent(t)+"&json=1&predict=1&mod=11&istype=1&cb=?&prod=video_ala",dataType:"jsonp",jsonp:"cb",success:function(e){"string"==typeof e&&(e=baidu.json.parse(e)),0!=e.need_predict&&(a=i[t]=e.predict_query.replace(/(\{.+\})?/g,""),window._bdvSearchLogType="pre",bdvQuickSearch.trigger("search",a))}})))};n.on("onneeddata",function(e,t){clearTimeout(n._preTimer),n._objAjax&&n._objAjax.abort(),n._preTimer=setTimeout(function(){a(e,t)},180)}),n.on("onhighlight",function(e,t){t.hasUrl||"hover"===e.eventType||(clearTimeout(n._preTimer),n._objAjax&&n._objAjax.abort(),n._preTimer=setTimeout(function(){"click"!=window._bdvSearchLogType&&"enter"!=window._bdvSearchLogType&&(window._bdvSearchLogType="hl",bdvQuickSearch.trigger("search",t.value))},300))}),bdvQuickSearch.on("init",e),bdvQuickSearch.on("submit",function(){$form.removeProp("target"),$form.submit()}),!input_el.value&&document.body.getAttribute("query")&&e(document.body.getAttribute("query"))}}),n.fire("onload")},{type:"magic.control.Suggestion",superClass:magic.Base}).extend({render:function(){var e=this,t=new magic.Popup({autoHide:!1,autoTurn:!1,disposeOnHide:!1}),n=t.getElement();return baidu.dom(n).addClass("bdv-suggestion"),e.$mappingDom("suggestion",n),e.suggestion=t,e.fire("onrender"),n},isShowing:function(){var e=this,t=e.getElement("suggestion");return t&&"none"!=baidu.dom(t).css("display")},show:function(){var e=this,t=e.getElement("suggestion")||e.render(),n=e.getElement("input");e.isShowHot=e.getInputValue()?0:1,e.fire("beforeshow"),e.suggestion.setContent(e._getSuggestionString()),e.suggestion.attach(n,{offsetX:e.offset&&e.offset.offsetX||0,offsetY:e.offset&&e.offset.offsetY||-1}),baidu.dom(t).css("display","block"),e.selectedIndex=-1,e.fire("onshow"),e._onShowedEvent()},_onShowedEvent:function(){var e=this;e._handleShowed=function(){e.hide()},baidu(window).on("resize",e._handleShowed),baidu(window).on("scroll",e._handleShowed)},hide:function(){var e=this,t=e.getElement("suggestion");t&&e.isShowing()&&(e.oldInputValue=e.getElement("input").value,e._hide())},_hide:function(){var e=this,t=e.getElement("suggestion");baidu.dom(t).css("display","none"),e.selectedIndex=-1,e.fire("onhide"),e._handleShowed&&(baidu(window).off("resize",e._handleShowed),baidu(window).off("scroll",e._handleShowed))},_getSuggestionString:function(){for(var e=this,t=myNewSug.get(e.currentQuery,"fuzzy"),n=t.length,i=e.currentData.length,a=[],o=[],u=0;i>u;u++)a.push(e.currentData[u]);if(t.length&&e.currentQuery){t=myNewSug.assort(t,"timestamp","desc"),t.length>2&&(t.length=2);for(var n=t.length,s=0;n>s;s++)(t[s].data.content||t[s].data.value)&&o.push({content:t[s].data.content||t[s].data.value,meta:t[s].data.meta,value:t[s].data.value,newClass:"hitted",color:"#4271af",timestamp:t[s].timestamp})}var r,l=myNewSug.getAll(),d=l.length;if(l.length&&e.currentQuery)for(var s=0;d>s;s++)for(var c=0;i>c;c++)l[s].name==a[c].content&&(r=l[s].data.content||l[s].data.value,r&&o.push({content:r,meta:l[s].data.meta,value:l[s].data.value,newClass:"hitted",color:"#4271af",timestamp:l[s].timestamp}));for(var g=o.length,p={},s=0;g>s;s++)p[o[s].content]=o[s];o=[];for(var c in p)o.push(p[c]);o=myNewSug.assort(o,"timestamp","desc"),o.length>2&&(o.length=2);for(var s=0;s<o.length;s++)for(var c=0;i>c;c++)o[s].content==a[c].content&&(a.splice(c,1),i=a.length);if(o.length||e.currentQuery){e.currentData=o.concat(a),e.currentData.length>sugOptions.num&&(e.currentData.length=sugOptions.num),e.dataCache=e.currentData,e.enableIndexs=[];for(var s=0;s<e.currentData.length;s++)e.enableIndexs.push(s);myNewSug.log("http://nsclick.baidu.com/p.gif?pid=104&tpl=history_sug&searchpage=&wd="+this.currentQuery+"&sug="+this.oldInputValue+"&li="+this.selectedIndex)}var h=e.getInputValue()?tpls.sug:tpls.sugHot,m=h({me:e,data:e.currentData,query:e.currentQuery,videoTypes:sugConf.videoTypes,domain:sugOptions.domain});return m},getInputValue:function(){return this.getElement("input").value},getDataByIndex:function(e){return this.currentData[e]},_isEnable:function(e){var t=this;return baidu.array(t.enableIndexs).contains(e)},_getItemDom:function(e){return baidu.dom("#"+this.$getId("item"+e)).get(0)},_getClass:function(e){return"bdv-suggestion-"+e},_focus:function(e){var t=this.enableIndexs;this.$pick(t[e]),this.$highlight(t[e])},$highlight:function(e,t){var n=this,i=n.enableIndexs,a=null;if(n._isEnable(e)){n.selectedIndex>=0&&n.$clearHighlight(),a=n._getItemDom(e),baidu.dom(a).addClass("bdv-suggestion-current"),n.selectedIndex=baidu.array(i).indexOf(e);var o=n.getDataByIndex(e);n.fire("onhighlight",{index:e,value:o.value,hasUrl:!!o.url,eventType:t})}},$clearHighlight:function(){var e=this,t=e.selectedIndex,n=null,i=0;i=e.enableIndexs[t],t>=0&&(n=e._getItemDom(i),baidu.dom(n).removeClass(e._getClass("current")),e.selectedIndex=-1,e.fire("onclearhighlight",{index:i,value:e.getDataByIndex(i).value}))},$pick:function(e){var t=this,n=t.currentData,i=n[e];t.fire("onbeforepick",{index:e,value:i.value})&&((!i.url||i.url&&4!=e)&&(t.getElement("input").value=i.value),t.oldInputValue=i.value,t.fire("onpick",{index:e,value:i.value}))},$confirm:function(e,t){var n=this;n._isEnable(e)&&(n.$pick(e),n.fire("onconfirm",{index:e,value:n.getDataByIndex(e).value,eventType:t}),n._hide())},$confirmOpen:function(e){var t=this,n=t.getDataByIndex(e);t._isEnable(e)&&(t.$pick(e),t.fire("onconfirmopen",{index:e,value:n.value,url:n.url}),t._hide())},getData:function(e){var t=this;$.ajax({url:sugConf.APIS.sug+"?wd="+encodeURIComponent(e)+"&prod=video_ala&oe=utf-8",scriptCharset:"gb2312",jsonp:"cb",dataType:"jsonp",crossDomain:!0,success:function(e){if(e&&e.q&&e.s){var n=e.s.length>sugOptions.num?e.s.splice(0,sugOptions.num):e.s;t.receiveData(e.q,n)}}})},receiveData:function(e,t){var n=this,i=n.$cacheData(e,t);n.selectedIndex=-1,e==n.getInputValue()&&(n.currentData=i,t.length>0?n.show():n.hide())},$cacheData:function(e,t){var n=this,i=n._wrapData(t);return n.dataCache[e]=i,i},_wrapData:function(e){for(var t,n=[],i=0,a=e.length;a>i;i++)"undefined"!=typeof e[i].value?n.push(e[i]):(t=e[i].split("{#S+_}"),n.push({value:t[0],content:baidu.string.encodeHTML(t[0]),meta:t[1]?JSON.parse(t[1]):null}));return n},getHotData:function(){var e=this;T.ajax({url:APIS.hotlist,crossDomain:!0,dataType:"jsonp",jsonpCallback:"videoHotlistMIS",success:function(t){t&&t[0]&&t[0].data&&t[0].data.videos&&e.receiveHotData(t[0].data.videos)}})},receiveHotData:function(e){var t=this;dataHotCache=e.slice(0,10);for(var n=0,i=dataHotCache.length;i>n;n++)dataHotCache[n].value=dataHotCache[n].title;t.getInputValue()||(t.currentData=dataHotCache,dataHotCache.length>0?t.show():t.hide())},preload:function(e){var t=this,n=[],i=t.currentData,a=t.oldInputValue,o=dataPreloaded.words;if(dataPreloaded.inputs[t.currentQuery]=!0,"click"===e&&n.push(a),i)for(var u=0,s=i.length;s>u&&2>u;u++){var r=i[u].value;o[r]||(o[r]=!0,n.push(r))}n.length>0&&t.openQuickSearch&&(window._bdvSearchLogType=e,bdvQuickSearch.trigger("preSearch",n.slice(0,2)))},_mouseOver:function(e,t){var n=this;e=baidu.event(e),e.stopPropagation(),n._isEnable(t)&&(n.$highlight(t,"hover"),n.selectedIndex=baidu.array(n.enableIndexs).indexOf(t));var i=n.getDataByIndex(t);n.fire("onmouseoveritem",{index:t,value:i.value,hasUrl:!!i.url})},_mouseOut:function(e,t){var n=this;e=baidu.event(e),e.stopPropagation(),n.holdHighLight||n._isEnable(t)&&n.$clearHighlight();var i=n.getDataByIndex(t);n.fire("onmouseoutitem",{index:t,value:n.getDataByIndex(t).value,hasUrl:!!i.url})},_mouseDown:function(e,t){var n=this;e=baidu.event(e),e.stopPropagation();var i=n.getDataByIndex(t);n.fire("onmousedownitem",{index:t,value:n.getDataByIndex(t).value,hasUrl:!!i.url})},_mouseClick:function(e,t){var n=this,i=n.getDataByIndex(t);e=baidu.event(e),e.stopPropagation(),n.fire("onmouseclick",{index:t,value:i.value,hasUrl:!!i.url}),i.url?n.$confirmOpen(t):n.$confirm(t,"click")},_mouseClickClose:function(e){e=baidu.event(e),e.stopPropagation(),this.hide()},_keydownHandler:function(){function e(e){var n=t.getInputValue(),i=t.enableIndexs,a=t.selectedIndex;if(n&&!t.isShowing())return void t.fire("onneeddata",n);if(0!=i.length&&!t.upDownArrowTimer){if(t.upDownArrowTimer=setTimeout(function(){clearTimeout(t.upDownArrowTimer),t.upDownArrowTimer=null},200),"up"==e)switch(a){case-1:t.$clearHighlight(),a=i.length-1,t._focus(a);break;case 0:a=-1,t.$clearHighlight(),t.getElement("input").value=t.currentQuery,t.oldInputValue=t.currentQuery;break;default:a--,t._focus(a)}else switch(a){case-1:a=0,t._focus(a);break;case i.length-1:a=-1,t.$clearHighlight(),t.getElement("input").value=t.currentQuery,t.oldInputValue=t.currentQuery;break;default:a++,t._focus(a)}t.selectedIndex=a}}var t=this;return function(n){var i="up";switch(n.keyCode){case 27:case 9:t.hide();break;case 13:n.preventDefault(),n.stopPropagation(),t.selectedIndex>=0&&t.holdHighLight?t.$confirm(t.enableIndexs[t.selectedIndex],"keydown"):(t.fire("onconfirm",{value:t.getInputValue(),eventType:"keydown"}),t.isShowing()&&t._hide());break;case 40:i="down";case 38:n.preventDefault(),n.stopPropagation(),e(i)}}},$dispose:function(){var e=this;e.disposed||(e.suggestion&&(e.suggestion.$dispose(),e.hide()),magic.Base.prototype.$dispose.call(e))}}),sugOptions={form:"bdvSearch",input:"bdvSearvhInput",num:6,openQuickSearch:!0},module.exports=init});