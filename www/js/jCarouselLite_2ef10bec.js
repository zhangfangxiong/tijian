define("common:static/ui/carousel/jCarouselLite.js",function(){function t(t){t.buffer&&0!==t.buffer&&(t.step=t.step-Math.ceil(t.buffer)),this.o=$.extend({mouseWheel:!1,auto:null,duration:5e3,speed:800,easing:null,vertical:!1,visible:4,firstBig:!1,originalIndex:0,scroll:1,buffer:0,focusRange:{min:0,max:t.visible-1||2},beforeStart:null,afterEnd:null,itemsTag:".carouse-item",itemSize:"auto",current:null},t||{}),this.__data={allItems:[],displied:[],willDel:[]},this.__animate=!1,this.GUID=null,this.timmer=null}return t.prototype={constructor:t,creatGuid:function(){for(var t=[],e="0123456789ABCDEF",i=0;5>i;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t.join("")},__collector:function(t){var e=this,i=this.o.items||$(this.o.itemsTag,e.__stage),s=this.o.items&&this.o.items.length;this.GUID="bdv_"+this.creatGuid(),e.__data.allItems.length<1&&$.each(i,function(t,i){if(s>0){var a=document.createElement("li");a.className=/.*?[\.#](.*)/.exec(e.o.itemsTag)[1],a.innerHTML=i.content,i=a}e.__data.allItems[t]=i}),$.each(e.__data.allItems,function(t,i){i.id=e.GUID+"_"+t,i.style.width=e.o.itemSize+"px",i.style.float="left"}),e.__stage.empty(),t&&t({data:e.__data.allItems})},conversion:function(t){var e={before:{},after:{},beforeWide:null},i=this.o.vertical?"top":"left",s=this.__data.allItems.length,a=this.__data.displied.length,n=this.__data.willDel.length,o="append"==t.action?0:this.o.itemSize*t.step;return e.buffer=this.o.buffer&&-1!==$.inArray(s-1,this.__data.displied)?this.o.buffer*-this.o.itemSize:0,e.before[i]=0-o+e.buffer+"px",e.after[i]=-(this.o.itemSize*t.step-o-e.buffer)+"px",e.beforeWide=(a+n)*this.o.itemSize+"px",e},fromDataGetNextItems:function(t){var e={getStep:[],getIndex:[]},i=this.__data.allItems.length,s=[];s=t.init?[t.start,t.start+this.o.visible]:"append"==t.action?[t.start+this.o.visible/2,t.start+this.o.visible/2+t.step]:[t.start-this.o.visible/2-t.step,t.start-this.o.visible/2];for(var a=s[0];a<s[1];a++){var n=a%i;0>n&&(n=i+n),(t.init||0===this.o.buffer||a===n)&&(e.getStep.push(a),e.getIndex.push(n))}return e},assembly:function(t,e){var i=this,s=this.fromDataGetNextItems(t),e=e||document.createDocumentFragment();t.step=s.getIndex.length,t.step<1||("append"==t.action?(t.init&&(i.__data.displied=i.__data.displied.concat(s.getIndex)),$.each(s.getIndex,function(s,a){t.init||(i.__data.displied.push(a),i.__data.willDel.push(i.__data.displied.shift())),e.appendChild(i.__data.allItems[a])})):(t.init&&(i.__data.displied=s.getIndex.concat(i.__data.displied)),$.each(s.getIndex.reverse(),function(s,a){t.init||(i.__data.displied.unshift(a),i.__data.willDel.push(i.__data.displied.pop())),e.insertBefore(i.__data.allItems[a],e.firstChild)})),this.o.firstBig&&"prepend"==t.action&&1==this.__data.displied[0]&&(t.start=t.start-t.step,arguments.callee.apply(this,[t,e])),this.__stage[t.action](e))},engine:function(t){var e=this;if(!t.init){if(e.__animate)return;e.__animate=!0}e.o.beforeStart&&e.o.beforeStart(t.start,this);{var i=this.o.vertical?"height":"width";this.assembly(t)}if(t.step<1)return void(e.__animate=!1);var s=this.conversion(t);this.__stage.css(s.before),this.current=t.init?t.start+this.o.visible/2:"append"==t.action?t.start+t.step:t.start-t.step,!t.init&&this.__stage.css(i,s.beforeWide)&&this.__stage.animate(s.after,this.o.speed,this.o.easing,function(){$.each(e.__data.willDel,function(t,i){$("#"+e.GUID+"_"+i,e.__stage).remove()}),e.__data.willDel.length=0,e.__stage&&e.__stage.css({left:s.buffer+"px",top:"0px"}),e.__stage.css(i,e.o.itemSize*e.o.visible+"px"),e.__animate=!1,e.o.afterEnd&&e.o.afterEnd(e.current,e),willShowItems=null,s=null,showDom=null,e.autoScroll()}),t.init&&e.o.afterEnd&&e.o.afterEnd(t.start,e),t.init&&this.autoScroll()},autoScroll:function(){var t=this;clearTimeout(this.timmer),t.o.auto&&(t.timmer=setTimeout(function(){t.next()},t.o.duration))},prev:function(t){this.engine({start:t||this.current,step:this.o.step,action:"prepend",init:!1})},next:function(t){this.engine({start:t||this.current,step:this.o.step,action:"append",init:!1})},go:function(t){var e=t*this.o.step+this.o.visible/2;e>this.current?this.next(e-this.o.step):e<this.current&&this.prev(e+this.o.step)},initStyle:function(){this.o.container.css({position:"relative"}),this.o.container.css(this.vertical?"height":"width",this.o.itemSize*this.o.visible-this.o.itemSize*this.o.buffer+"px"),this.__stage.css({left:"0px",top:"0px",position:"absolute"}),this.__stage.css(this.vertical?"height":"width",this.o.itemSize*this.o.visible+"px")},hoverStop:function(t){if(!this.loaded){this.loaded=!0;var e=this;t.hover(function(){clearTimeout(e.timmer)},function(){e.autoScroll()})}},render:function(t){var e=this;e.o.container=$(t),e.o.items&&e.o.items.length>0&&!e.o.container.children()[0]?(e.__stage=$(document.createElement("ul")),e.o.container.append(e.__stage)):e.__stage=e.o.container.children(),e.initStyle(),e.__data.displied.length=0,e.__collector(function(){e.engine({start:e.o.originalIndex,step:e.o.step,action:"append",init:!0})}),this.hoverStop(this.o.container)},refresh:function(t,e,i){if(this.o.originalIndex=this.current-this.o.visible/2,0!==this.buffer){var s=this.__data.allItems.length-1,a=s-this.o.originalIndex%s;a<this.o.visible&&(this.o.originalIndex-=this.o.visible-a)}this.o.itemSize=t||this.o.itemSize,this.o.visible=e||this.o.visible,this.o.step=i||this.o.step,this.render(this.o.container)}},t});